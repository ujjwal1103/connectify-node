const asyncHandler = (fn) => async (req, res, next) => {
  try {
    await fn(req, res, next);
  } catch (error) {
    console.log(error);
    res.status(error.statusCode || 500).json({
      error: { error },
    });
  }
};

export default asyncHandler;

const test = {
  base64: null,
  creationTime: 1715958701991.0002,
  duration: 0,
  exif: {
    ColorModel: "RGB",
    DPIHeight: 72,
    DPIWidth: 72,
    Depth: 8,
    Orientation: 1,
    PixelHeight: 4032,
    PixelWidth: 3024,
    PrimaryImage: true,
    ProfileName: "Display P3",
    "{Exif}": {
      ApertureValue: 1.6959938128383605,
      BrightnessValue: 3.1600853374709077,
      ColorSpace: 65535,
      CompositeImage: 2,
      CustomRendered: 8,
      DateTimeDigitized: "2024:05:17 20:41:41",
      DateTimeOriginal: "2024:05:17 20:41:41",
      ExifVersion: [Array],
      ExposureBiasVTime: "+05:30",
      OffsetTimeDigitized: "+05:30",
      OffsetTimeOriginal: "+05:30",
      PixelXDimension: 4032,
      PixelYDimension: 3024,
      SceneType: 1,
      SensingMethod: 2,
      ShutterSpeedValue: 6.066028599099869,
      SubjectArea: [Array],
      SubsecTimeDigitized: "991",
      SubsecTimeOriginal: "991",
      WhiteBalance: 0,
    },
    "{GPS}": {
      Altitude: 582.9636306135358,
      AltitudeRef: 0,
      DateStamp: "2024:05:17",
      DestBearing: 293.0403442711135,
      DestBearingRef: "T",
      HPositioningError: 52.331137572840134,
      ImgDirection: 293.0403442711135,
      ImgDirectionRef: "T",
      Latitude: 17.433195,
      LatitudeRef: "N",
      Longitude: 78.37848666666666,
      LongitudeRef: "E",
      Speed: 0,
      SpeedRef: "K",
      TimeStamp: "15:11:38",
    },
    "{MakerApple}": {
      1: 14,
      12: [Array],
      13: 28,
      14: 4,
      15: 2,
      16: 1,
      2: [Uint8Array],
      20: 10,
      23: 2723813376,
      25: 98,
      26: "q825s",
      29: 0.012554687447845936,
      3: [Object],
      31: 0,
      32: "EA036F68-DB10-4104-8B10-32272088A5BA",
      33: 0.5,
      35: [Array],
      37: 8388750,
      38: 3,
      39: 38.25544738769531,
      4: 0,
      40: 1,
      43: "DA20F41A-4F04-489C-AB46-2BCD0179FCC4",
      45: 2583,
      46: 1,
      47: 71,
      5: 189,
      51: 4096,
      52: 4,
      53: 3,
      54: 767,
      55: 1,
      58: 262,
      59: 0,
      6: 179,
      60: 4,
      65: 0,
      7: 1,
      74: 2,
      77: 40,
      78: [Object],
      79: 0,
      8: [Array],
      83: 1,
    },
    "{TIFF}": {
      DateTime: "2024:05:17 20:41:41",
      HostComputer: "iPhone 11 Pro",
      Make: "Apple",
      Model: "iPhone 11 Pro",
      Orientation: 1,
      ResolutionUnit: 2,
      Software: "17.5",
      TileLength: 512,
      TileWidth: 512,
      XResolution: 72,
      YResolution: 72,
    },
  },
  filename: "IMG_4555.HEIC",
  height: 3024,
  id: "AF9CA725-C084-4927-89E5-51BA7577D2D2/L0/001",
  isFavorite: false,
  isHidden: false,
  localUri: "file:///var/mobile/Media/DCIM/104APPLE/IMG_4555.HEIC",
  location: { latitude: "17.433195", longitude: "78.37848666666666" },
  mediaSubtypes: ["depthEffect"],
  mediaType: "photo",
  modificationTime: 1715958701000,
  orientation: 1,
  uri: "file:///var/mobile/Containers/Data/Application/D4108836-3C4F-416D-9028-600ACBB58511/Library/Caches/ExponentExperienceData/@anonymous/connectify-app-48abb4c6-dd6e-4bf6-af1c-157794fb68c6/ImageManipulator/EE8CBA17-F0E6-45C9-B592-3F29BB337E38.png",
  width: 3024,
};
